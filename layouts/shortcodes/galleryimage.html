{{ $galleryprefix := .Page.Params.galleryprefix }}
{{ $galleryfolder := .Page.Params.galleryfolder }}
{{ $gallerythumbnail := .Page.Params.gallerythumbnail }}

{{ $figurewidth := div (mul (int (.Get "width")) (.Site.Params.Gallery.height)) (int (.Get "height"))  }}
<figure itemscope itemtype="http://schema.org/ImageObject" style="width:{{$figurewidth}}px">
  <a href="{{ $galleryprefix }}/{{ $galleryfolder }}/{{ .Get "file" }}"
    itemprop="contentUrl"
    data-width="{{ .Get "width" }}"
    data-height="{{ .Get "height" }}">
      <img src="{{ $galleryprefix }}/{{ $galleryfolder }}/{{ .Get "file" }}" itemprop="thumbnail" alt="{{ .Get "caption" }}" />
  </a>


  <figcaption itemprop="caption description">
    {{ .Get "caption" }}
    <span itemprop="copyrightHolder">{{ .Get "copyrightHolder" }}</span>
  </figcaption>
</figure>
